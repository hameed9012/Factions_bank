{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\huzai\\\\factions-bank-full\\\\factions-bank-full\\\\frontend\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Line } from 'react-chartjs-2';\nimport { Chart as ChartJS, LineElement, PointElement, LinearScale, Title, Tooltip, Legend, CategoryScale } from 'chart.js';\nimport { format, formatDistanceToNow } from 'date-fns';\nimport { TrendingUp, Users, DollarSign, Clock, Trophy, Search, ChevronRight, Activity, ChevronLeft, ChevronDown } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(LineElement, PointElement, LinearScale, Title, Tooltip, Legend, CategoryScale);\n\n// FIX: Set API to use local host/port explicitly, relying on Flask's new CORS setup.\nconst API = process.env.REACT_APP_API_URL || 'http://localhost:8085';\n\n// --- NEW COMPONENT: Pagination Controls ---\nconst PaginationControls = ({\n  offset,\n  limit,\n  setOffset,\n  totalCount\n}) => {\n  const isPreviousDisabled = offset === 0;\n  const isNextDisabled = offset + limit >= totalCount;\n  const currentPage = Math.floor(offset / limit) + 1;\n  const totalPages = Math.ceil(totalCount / limit);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center justify-between mt-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-600 dark:text-gray-400\",\n      children: [\"Showing \", Math.min(offset + 1, totalCount), \" to \", Math.min(offset + limit, totalCount), \" of \", totalCount, \" results\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center space-x-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setOffset(prev => Math.max(0, prev - limit)),\n        disabled: isPreviousDisabled,\n        className: \"p-2 border rounded-full disabled:opacity-50 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-700 transition\",\n        children: /*#__PURE__*/_jsxDEV(ChevronLeft, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-sm font-medium text-slate-800 dark:text-slate-200\",\n        children: [\"Page \", currentPage, \" of \", totalPages]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setOffset(prev => prev + limit),\n        disabled: isNextDisabled,\n        className: \"p-2 border rounded-full disabled:opacity-50 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-700 transition\",\n        children: /*#__PURE__*/_jsxDEV(ChevronRight, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 5\n  }, this);\n};\n// ------------------------------------------\n\n// Horse SVG Component\n_c = PaginationControls;\nconst HorseIcon = ({\n  className = \"w-16 h-16\",\n  running = false\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  className: `${className} ${running ? 'animate-bounce' : ''}`,\n  viewBox: \"0 0 64 64\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M 20 30 L 25 20 L 35 18 L 40 22 L 42 30\",\n    strokeLinecap: \"round\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"35\",\n    cy: \"20\",\n    r: \"3\",\n    fill: \"currentColor\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M 20 30 L 18 45 M 25 30 L 27 45\",\n    strokeLinecap: \"round\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M 42 30 L 40 45 M 37 30 L 39 45\",\n    strokeLinecap: \"round\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M 15 15 Q 20 10 25 15\",\n    strokeLinecap: \"round\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 50,\n  columnNumber: 3\n}, this);\n// Race Track Component with Animations\n_c2 = HorseIcon;\nconst RaceTrack = ({\n  race,\n  compact = false\n}) => {\n  _s();\n  var _race$jockeys;\n  const [animationProgress, setAnimationProgress] = useState(0);\n  useEffect(() => {\n    if (race.status === 'live') {\n      const interval = setInterval(() => {\n        setAnimationProgress(prev => (prev + 1) % 100);\n      }, 50);\n      return () => clearInterval(interval);\n    } else if (race.status === 'finished') {\n      setAnimationProgress(100);\n    }\n  }, [race.status]);\n  const getPosition = index => {\n    if (race.status === 'scheduled') return 0;\n    if (race.status === 'finished') {\n      const jockey = race.jockeys[index];\n      if (jockey === race.winner1) return 100;\n      if (jockey === race.winner2) return 95;\n      if (jockey === race.winner3) return 90;\n      return 85;\n    }\n    return animationProgress + index * 5 % 100;\n  };\n  const trackHeight = compact ? 'h-24' : 'h-40';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative w-full bg-gradient-to-r from-green-100 via-green-50 to-green-100 dark:from-green-900 dark:via-green-800 dark:to-green-900 rounded-xl overflow-hidden border-2 border-green-300 dark:border-green-700\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute right-0 top-0 bottom-0 w-4 bg-gradient-to-r from-transparent via-yellow-400 to-yellow-500 opacity-50\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `relative ${trackHeight} flex flex-col justify-around py-2`,\n      children: (_race$jockeys = race.jockeys) === null || _race$jockeys === void 0 ? void 0 : _race$jockeys.map((jockey, idx) => {\n        const position = getPosition(idx);\n        const isWinner = race.status === 'finished' && [race.winner1, race.winner2, race.winner3].includes(jockey);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative h-10 border-b border-green-200 dark:border-green-700 last:border-0\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-1/2 -translate-y-1/2 transition-all duration-1000 ease-linear flex items-center gap-2\",\n            style: {\n              left: `${position}%`\n            },\n            children: [/*#__PURE__*/_jsxDEV(HorseIcon, {\n              className: `w-8 h-8 ${isWinner ? 'text-yellow-500' : 'text-gray-700 dark:text-gray-300'}`,\n              running: race.status === 'live'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 17\n            }, this), !compact && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `text-xs font-bold whitespace-nowrap ${isWinner ? 'text-yellow-600 dark:text-yellow-400' : 'text-gray-600 dark:text-gray-400'}`,\n              children: [jockey, jockey === race.winner1 && ' ðŸ¥‡', jockey === race.winner2 && ' ðŸ¥ˆ', jockey === race.winner3 && ' ðŸ¥‰']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this)\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), race.status === 'finished' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(Trophy, {\n          className: \"w-16 h-16 text-yellow-400 mx-auto mb-2 animate-pulse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-2xl font-bold text-white\",\n          children: \"Race Complete!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n};\n\n// Time Until Component\n_s(RaceTrack, \"W6QPS6pJsxAM+BWqHP3SEiAFaow=\");\n_c3 = RaceTrack;\nconst TimeUntil = ({\n  date\n}) => {\n  _s2();\n  const [, setTick] = useState(0);\n  useEffect(() => {\n    const interval = setInterval(() => setTick(t => t + 1), 1000);\n    return () => clearInterval(interval);\n  }, []);\n  if (!date) return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"text-gray-500\",\n    children: \"Never\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 19\n  }, this);\n  const targetDate = new Date(date);\n  const now = new Date();\n  // FIX: Swapped logic to display time since compound, not time until start.\n  if (targetDate > now) {\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-green-600 dark:text-green-400 font-medium\",\n      children: formatDistanceToNow(targetDate, {\n        addSuffix: true\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"text-slate-600 dark:text-slate-400 font-medium\",\n    children: [formatDistanceToNow(targetDate, {\n      addSuffix: false\n    }), \" ago\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 166,\n    columnNumber: 5\n  }, this);\n};\n\n// Main App Component\n_s2(TimeUntil, \"/BsGHtAT6SHgLOdnp4Vgh6P3EWk=\");\n_c4 = TimeUntil;\nfunction App() {\n  _s3();\n  var _settings$bank, _settings$bank2, _settings$bank3, _settings$bank4, _settings$horse_race$;\n  const [players, setPlayers] = useState([]);\n  const [txns, setTxns] = useState([]);\n  const [search, setSearch] = useState('');\n  const [settings, setSettings] = useState({});\n  const [history, setHistory] = useState([]);\n  const [races, setRaces] = useState([]);\n  const [selectedRace, setSelectedRace] = useState(null);\n  const [view, setView] = useState('bank');\n  const [loading, setLoading] = useState(true);\n\n  // --- NEW STATE FOR PAGINATION ---\n  const PLAYER_LIMIT = 15;\n  const [playerTotal, setPlayerTotal] = useState(0); // Assuming the backend doesn't return total count currently\n  const [playerOffset, setPlayerOffset] = useState(0);\n  const TXN_LIMIT = 20;\n  const [txnOffset, setTxnOffset] = useState(0);\n  // --- END NEW STATE ---\n\n  useEffect(() => {\n    loadData();\n    const interval = setInterval(loadData, 5000);\n    return () => clearInterval(interval);\n  }, [search, view, playerOffset, txnOffset]); // Add pagination state to dependency array\n\n  const loadData = async () => {\n    try {\n      const requests = [axios.get(`${API}/api/settings`), axios.get(`${API}/api/interest/history`)];\n      const playerUrl = `${API}/api/players?q=${search}&limit=${PLAYER_LIMIT}&offset=${playerOffset}`;\n      const txnUrl = `${API}/api/transactions?ign=${search}&limit=${TXN_LIMIT}&offset=${txnOffset}`;\n      const raceUrl = `${API}/api/races`;\n      if (view === 'bank') {\n        requests.push(axios.get(playerUrl), axios.get(txnUrl),\n        // Fetch all players for a proper total count (Less efficient, but necessary if API lacks count endpoint)\n        axios.get(`${API}/api/players`));\n      } else {\n        requests.push(axios.get(raceUrl));\n      }\n      const responses = await Promise.all(requests);\n      setSettings(responses[0].data);\n\n      // FIX: Reverse history data here so map functions can display it correctly (latest data first)\n      setHistory(responses[1].data.reverse());\n      if (view === 'bank') {\n        var _responses$, _responses$$data;\n        setPlayers(responses[2].data);\n        setTxns(responses[3].data);\n        // Set total count based on the request that fetches ALL players\n        setPlayerTotal(((_responses$ = responses[4]) === null || _responses$ === void 0 ? void 0 : (_responses$$data = _responses$.data) === null || _responses$$data === void 0 ? void 0 : _responses$$data.length) || 0);\n      } else {\n        setRaces(responses[2].data);\n      }\n      setLoading(false);\n    } catch (e) {\n      console.error('Error loading data:', e);\n      setLoading(false);\n    }\n  };\n  const formatCurrency = amount => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2\n    }).format(amount || 0);\n  };\n  const formatDate = date => {\n    if (!date) return 'Never';\n    return format(new Date(date), 'MMM dd, yyyy HH:mm');\n  };\n\n  // Chart Data\n  const chartData = {\n    // FIX: Remove .reverse() here as it's now done during state setting\n    labels: history.map(h => format(new Date(h.changed_at), 'MMM dd, HH:mm')),\n    datasets: [{\n      label: 'Normal Rate (%)',\n      data: history.map(h => h.rate_normal_pct),\n      borderColor: 'rgb(59, 130, 246)',\n      backgroundColor: 'rgba(59, 130, 246, 0.1)',\n      tension: 0.4,\n      fill: true,\n      yAxisID: 'y'\n    }, {\n      label: 'Premium Rate (%)',\n      data: history.map(h => h.rate_premium_pct),\n      borderColor: 'rgb(245, 158, 11)',\n      backgroundColor: 'rgba(245, 158, 11, 0.1)',\n      tension: 0.4,\n      fill: true,\n      yAxisID: 'y'\n    }, {\n      label: 'Premium Min Balance ($)',\n      data: history.map(h => h.premium_min_balance),\n      borderColor: 'rgb(16, 185, 129)',\n      backgroundColor: 'rgba(16, 185, 129, 0.1)',\n      tension: 0.4,\n      fill: true,\n      yAxisID: 'y1'\n    }]\n  };\n  const chartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'top',\n        labels: {\n          font: {\n            size: 11\n          },\n          padding: 10\n        }\n      },\n      tooltip: {\n        mode: 'index',\n        intersect: false,\n        backgroundColor: 'rgba(0, 0, 0, 0.8)'\n      }\n    },\n    scales: {\n      y: {\n        type: 'linear',\n        display: true,\n        position: 'left',\n        title: {\n          display: true,\n          text: 'Rate (%)'\n        },\n        beginAtZero: true\n      },\n      y1: {\n        type: 'linear',\n        display: true,\n        position: 'right',\n        title: {\n          display: true,\n          text: 'Balance ($)'\n        },\n        grid: {\n          drawOnChartArea: false\n        },\n        beginAtZero: true\n      }\n    },\n    interaction: {\n      mode: 'nearest',\n      axis: 'x',\n      intersect: false\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(Activity, {\n          className: \"w-16 h-16 text-blue-500 animate-spin mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xl font-semibold text-gray-700 dark:text-gray-300\",\n          children: \"Loading Factions Bank...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 text-slate-900 dark:text-slate-100\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto p-3 sm:p-6 lg:p-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl sm:text-4xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent\",\n          children: \"\\uD83C\\uDFE6 Factions Bank\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3 bg-white dark:bg-slate-800 px-4 py-2 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700\",\n          children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n            className: \"w-6 h-6 text-green-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500\",\n              children: \"Total Bank Debt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl font-bold text-green-600\",\n              children: formatCurrency(settings.total_bank_debt)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-shadow\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs sm:text-sm text-slate-600 dark:text-slate-400\",\n                children: \"Normal Rate\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl sm:text-3xl font-bold text-blue-600\",\n                children: [((((_settings$bank = settings.bank) === null || _settings$bank === void 0 ? void 0 : _settings$bank.interest_rate_normal) || 0) * 100).toFixed(2), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TrendingUp, {\n              className: \"w-8 h-8 sm:w-10 sm:h-10 text-blue-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-xl \\r\\nshadow-lg border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-shadow\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs sm:text-sm text-slate-600 dark:text-slate-400\",\n                children: \"Premium Rate\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl sm:text-3xl font-bold text-amber-600\",\n                children: [((((_settings$bank2 = settings.bank) === null || _settings$bank2 === void 0 ? void 0 : _settings$bank2.interest_rate_premium) || 0) * 100).toFixed(2), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-slate-500\",\n                children: [\"\\u2265\", formatCurrency(((_settings$bank3 = settings.bank) === null || _settings$bank3 === void 0 ? void 0 : _settings$bank3.premium_min_balance) || 0)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Trophy, {\n              className: \"w-8 h-8 sm:w-10 sm:h-10 \\r\\ntext-amber-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-shadow\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs sm:text-sm text-slate-600 dark:text-slate-400\",\n                children: \"Active Players\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl sm:text-3xl font-bold text-emerald-600\",\n                children: playerTotal\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Users, {\n              className: \"w-8 h-8 sm:w-10 sm:h-10 text-emerald-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-shadow\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs sm:text-sm text-slate-600 dark:text-slate-400\",\n                children: \"Payout Fee\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl sm:text-3xl font-bold text-red-600\",\n                children: [((((_settings$bank4 = settings.bank) === null || _settings$bank4 === void 0 ? void 0 : _settings$bank4.payout_fee_pct) || 0) * 100).toFixed(2), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Activity, {\n              className: \"w-8 h-8 sm:w-10 sm:h-10 text-red-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 1\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2 mb-6 overflow-x-auto pb-2 border-b-2 border-slate-200 dark:border-slate-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setView('bank'),\n          className: `px-4 sm:px-6 py-2 sm:py-3 font-medium transition-all rounded-t-lg whitespace-nowrap flex items-center gap-2 ${view === 'bank' ? 'bg-white dark:bg-slate-800 text-blue-600 border-t-4 border-x-2 border-blue-600' : 'text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-100'}`,\n          children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 13\n          }, this), \"Bank Dashboard\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setView('races'),\n          className: `px-4 sm:px-6 py-2 sm:py-3 font-medium transition-all rounded-t-lg whitespace-nowrap flex items-center gap-2 ${view === 'races' ? 'bg-white dark:bg-slate-800 text-purple-600 border-t-4 border-x-2 border-purple-600' : 'text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-100'}`,\n          children: [/*#__PURE__*/_jsxDEV(HorseIcon, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 13\n          }, this), \"Imperial Races\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 9\n      }, this), view === 'bank' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            className: \"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search player by name...\",\n            value: search,\n            onChange: e => setSearch(e.target.value),\n            className: \"w-full pl-10 pr-4 py-3 rounded-xl border-2 border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 11\n      }, this), view === 'bank' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-4 sm:p-6 border border-slate-200 dark:border-slate-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold mb-4 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Users, {\n              className: \"w-6 h-6 text-blue-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 17\n            }, this), \"Players (\", playerTotal, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overflow-x-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"w-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"border-b-2 border-slate-200 dark:border-slate-700\",\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"text-left py-3 px-2 font-semibold text-sm\",\n                    children: \"Player\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 486,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"text-right py-3 px-2 font-semibold text-sm\",\n                    children: \"Balance\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 487,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"text-center py-3 px-2 font-semibold text-sm hidden sm:table-cell\",\n                    children: \"Rate\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 488,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"text-right py-3 px-2 \\r\\nfont-semibold text-sm hidden md:table-cell\",\n                    children: \"Last Interest\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 489,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 484,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: players.map(p => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"border-b border-slate-100 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors\",\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center gap-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br \\r\\nfrom-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-xs sm:text-sm font-bold flex-shrink-0\",\n                        children: p.ign[0].toUpperCase()\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 499,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"font-medium text-sm sm:text-base\",\n                          children: p.ign\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 505,\n                          columnNumber: 31\n                        }, this), p.is_premium ? /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"inline-block text-xs bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200 px-2 py-0.5 rounded-full\",\n                          children: \"\\u2B50 Premium\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 508,\n                          columnNumber: 33\n                        }, this) : null]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 503,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 498,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 497,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"text-right font-bold text-sm sm:text-lg whitespace-nowrap\",\n                    children: formatCurrency(p.balance)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 517,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"text-center hidden sm:table-cell\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `inline-block px-3 py-1 rounded-full text-xs font-bold ${p.is_premium ? 'bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200' : 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200'}`,\n                      children: [((p.interest_rate || 0) * 100).toFixed(2), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 522,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 521,\n                    columnNumber: 26\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"text-right text-xs text-slate-600 dark:text-slate-400 hidden md:table-cell\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center justify-end gap-1\",\n                      children: [/*#__PURE__*/_jsxDEV(Clock, {\n                        className: \"w-4 h-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 536,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(TimeUntil, {\n                        date: p.last_compounded_at\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 537,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 535,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 533,\n                    columnNumber: 25\n                  }, this)]\n                }, p.ign, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 496,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(PaginationControls, {\n            offset: playerOffset,\n            limit: PLAYER_LIMIT,\n            setOffset: setPlayerOffset,\n            totalCount: playerTotal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 547,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-4 sm:p-6 border border-slate-200 dark:border-slate-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold mb-4 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Activity, {\n              className: \"w-6 h-6 text-green-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 17\n            }, this), \"Recent Transactions (\", txns.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overflow-x-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"w-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"border-b-2 border-slate-200 dark:border-slate-700\",\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"text-left py-3 px-2 font-semibold text-sm\",\n                    children: \"Player\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 567,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"text-center py-3 px-2 font-semibold text-sm\",\n                    children: \"Type\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 568,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"text-right py-3 px-2 font-semibold text-sm\",\n                    children: \"Amount\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 569,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"text-left py-3 px-2 font-semibold text-sm hidden lg:table-cell\",\n                    children: \"Note\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 571,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"text-right py-3 px-2 font-semibold text-sm hidden md:table-cell\",\n                    children: \"Date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 572,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 565,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 564,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: txns.map(t => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"border-b border-slate-100 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors\",\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-2 font-medium text-sm\",\n                    children: t.ign\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 579,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"text-center\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `px-2 sm:px-3 py-1 rounded-full text-xs font-medium whitespace-nowrap ${['deposit', 'interest', 'horse_race_win'].includes(t.txn_type) ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' : 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200'}`,\n                      children: t.txn_type.replace(/_/g, ' ').replace('horse race', 'ðŸ´')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 582,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 580,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: `text-right font-bold text-sm ${parseFloat(t.effective_delta) >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                    children: [parseFloat(t.effective_delta) >= 0 ? '+' : '', formatCurrency(Math.abs(parseFloat(t.effective_delta)))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 592,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"text-left text-xs text-slate-600 dark:text-slate-400 max-w-xs truncate hidden lg:table-cell\",\n                    children: t.note || '-'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 600,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"text-right text-xs text-slate-500 whitespace-nowrap hidden md:table-cell\",\n                    children: formatDate(t.created_at)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 605,\n                    columnNumber: 25\n                  }, this)]\n                }, t.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 578,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 575,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 563,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(PaginationControls, {\n            offset: txnOffset,\n            limit: TXN_LIMIT,\n            setOffset: setTxnOffset,\n            totalCount: txns.length + txnOffset + (txns.length < TXN_LIMIT ? 0 : 1)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 616,\n            columnNumber: 16\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 556,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-4 sm:p-6 border border-slate-200 dark:border-slate-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold mb-4\",\n            children: \"\\uD83D\\uDCC8 Interest Rate History\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 626,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-64 sm:h-80\",\n            children: /*#__PURE__*/_jsxDEV(Line, {\n              data: chartData,\n              options: chartOptions\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 628,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 627,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 625,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-6\",\n        children: [settings.horse_race && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gradient-to-r from-purple-100 via-pink-100 to-yellow-100 dark:from-purple-900 dark:via-pink-900 dark:to-yellow-900 p-4 sm:p-6 rounded-2xl shadow-lg border-2 border-purple-300 dark:border-purple-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-bold mb-3 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Trophy, {\n              className: \"w-8 h-8 text-yellow-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 640,\n              columnNumber: 19\n            }, this), \"Imperial Race Rules\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 639,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white dark:bg-slate-800 p-3 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500\",\n                children: \"Entry Fee\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 646,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xl font-bold text-blue-600\",\n                children: formatCurrency(settings.horse_race.entry_fee)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 647,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 645,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white dark:bg-slate-800 p-3 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500\",\n                children: \"Imperial Cut\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 651,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xl font-bold text-red-600\",\n                children: [settings.horse_race.imperial_cut, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 652,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 650,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white dark:bg-slate-800 p-3 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500\",\n                children: \"1st / 2nd / 3rd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 656,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg font-bold text-yellow-600\",\n                children: [settings.horse_race.winner1_pct, \"% / \", settings.horse_race.winner2_pct, \"% / \", settings.horse_race.winner3_pct, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 657,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 655,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 644,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white dark:bg-slate-800 p-4 rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm whitespace-pre-line leading-relaxed\",\n              children: ((_settings$horse_race$ = settings.horse_race.rules) === null || _settings$horse_race$ === void 0 ? void 0 : _settings$horse_race$.replace(/\\\\n/g, '\\n')) || 'No rules set'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 664,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 663,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 638,\n          columnNumber: 1\n        }, this), selectedRace && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-4 sm:p-6 border border-slate-200 dark:border-slate-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-start mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-2xl font-bold\",\n              children: [selectedRace.name, \" #\", selectedRace.id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 677,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setSelectedRace(null),\n              className: \"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300\",\n              children: \"\\u2715\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 678,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 676,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500\",\n                children: \"Prize Pool\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 689,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xl font-bold text-green-600\",\n                children: formatCurrency(selectedRace.prize_pool)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 690,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 688,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500\",\n                children: \"Jockeys\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 694,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xl font-bold text-purple-600\",\n                children: selectedRace.jockey_count\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 695,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 693,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 699,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `inline-block px-3 py-1 rounded-full text-sm font-bold ${selectedRace.status === 'live' ? 'bg-green-100 text-green-800' : selectedRace.status === 'finished' ? 'bg-yellow-100 text-yellow-800' : 'bg-blue-100 text-blue-800'}`,\n                children: selectedRace.status.toUpperCase()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 700,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 697,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500\",\n                children: \"Scheduled\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 712,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-medium\",\n                children: selectedRace.status === 'scheduled' ? /*#__PURE__*/_jsxDEV(TimeUntil, {\n                  date: selectedRace.scheduled_at\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 716,\n                  columnNumber: 25\n                }, this) : formatDate(selectedRace.scheduled_at)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 713,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 711,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 687,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(RaceTrack, {\n            race: selectedRace\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 724,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 675,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 lg:grid-cols-2 gap-4\",\n          children: races.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-2 text-center py-12 bg-white dark:bg-slate-800 rounded-2xl shadow-lg\",\n            children: [/*#__PURE__*/_jsxDEV(HorseIcon, {\n              className: \"w-24 h-24 mx-auto text-gray-300 dark:text-gray-600 mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 734,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl text-gray-500\",\n              children: \"No races scheduled yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 735,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 733,\n            columnNumber: 17\n          }, this) : races.map(race => /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => setSelectedRace(race),\n            className: \"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-all cursor-pointer hover:scale-[1.02]\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-start mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-bold\",\n                children: [race.name, \" #\", race.id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 747,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `px-3 py-1 rounded-full text-xs font-bold ${race.status === 'live' ? 'bg-green-100 text-green-800 animate-pulse' : race.status === 'finished' ? 'bg-yellow-100 text-yellow-800' : 'bg-blue-100 text-blue-800'}`,\n                children: race.status.toUpperCase()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 749,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 746,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-3 mb-4 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-500\",\n                  children: \"Prize Pool\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 764,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-bold text-green-600\",\n                  children: formatCurrency(race.prize_pool)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 765,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 762,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-500\",\n                  children: \"Jockeys\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 769,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-bold text-purple-600\",\n                  children: race.jockey_count\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 770,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 767,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-span-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-500\",\n                  children: \"Scheduled\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 773,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-medium\",\n                  children: race.status === 'scheduled' ? /*#__PURE__*/_jsxDEV(TimeUntil, {\n                    date: race.scheduled_at\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 778,\n                    columnNumber: 29\n                  }, this) : formatDate(race.scheduled_at)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 775,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 772,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 761,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(RaceTrack, {\n              race: race,\n              compact: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 789,\n              columnNumber: 21\n            }, this), race.status === 'finished' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 pt-4 border-t border-gray-200 \\r\\ndark:border-gray-700\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs font-semibold text-gray-500 mb-2\",\n                children: \"Winners:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 795,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-2\",\n                children: [race.winner1 && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-flex items-center gap-1 px-3 py-1 bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 rounded-full text-xs font-bold\",\n                  children: [\"\\uD83E\\uDD47 \", race.winner1]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 799,\n                  columnNumber: 29\n                }, this), race.winner2 && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200 rounded-full text-xs font-bold\",\n                  children: [\"\\uD83E\\uDD48 \", race.winner2]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 805,\n                  columnNumber: 29\n                }, this), race.winner3 && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-flex items-center gap-1 px-3 py-1 bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200 rounded-full text-xs font-bold\",\n                  children: [\"\\uD83E\\uDD49 \", race.winner3]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 812,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 796,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 793,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3 flex items-center justify-between text-xs text-gray-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Click to view details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 823,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(ChevronRight, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 824,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 822,\n              columnNumber: 1\n            }, this)]\n          }, race.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 740,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 730,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 634,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 341,\n    columnNumber: 5\n  }, this);\n}\n_s3(App, \"p1ZOaMAxQ4NLU86eELWSDyRHbpU=\");\n_c5 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"PaginationControls\");\n$RefreshReg$(_c2, \"HorseIcon\");\n$RefreshReg$(_c3, \"RaceTrack\");\n$RefreshReg$(_c4, \"TimeUntil\");\n$RefreshReg$(_c5, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","Line","Chart","ChartJS","LineElement","PointElement","LinearScale","Title","Tooltip","Legend","CategoryScale","format","formatDistanceToNow","TrendingUp","Users","DollarSign","Clock","Trophy","Search","ChevronRight","Activity","ChevronLeft","ChevronDown","jsxDEV","_jsxDEV","register","API","process","env","REACT_APP_API_URL","PaginationControls","offset","limit","setOffset","totalCount","isPreviousDisabled","isNextDisabled","currentPage","Math","floor","totalPages","ceil","className","children","min","fileName","_jsxFileName","lineNumber","columnNumber","onClick","prev","max","disabled","_c","HorseIcon","running","viewBox","fill","stroke","strokeWidth","d","strokeLinecap","cx","cy","r","_c2","RaceTrack","race","compact","_s","_race$jockeys","animationProgress","setAnimationProgress","status","interval","setInterval","clearInterval","getPosition","index","jockey","jockeys","winner1","winner2","winner3","trackHeight","map","idx","position","isWinner","includes","style","left","_c3","TimeUntil","date","_s2","setTick","t","targetDate","Date","now","addSuffix","_c4","App","_s3","_settings$bank","_settings$bank2","_settings$bank3","_settings$bank4","_settings$horse_race$","players","setPlayers","txns","setTxns","search","setSearch","settings","setSettings","history","setHistory","races","setRaces","selectedRace","setSelectedRace","view","setView","loading","setLoading","PLAYER_LIMIT","playerTotal","setPlayerTotal","playerOffset","setPlayerOffset","TXN_LIMIT","txnOffset","setTxnOffset","loadData","requests","get","playerUrl","txnUrl","raceUrl","push","responses","Promise","all","data","reverse","_responses$","_responses$$data","length","e","console","error","formatCurrency","amount","Intl","NumberFormat","currency","minimumFractionDigits","maximumFractionDigits","formatDate","chartData","labels","h","changed_at","datasets","label","rate_normal_pct","borderColor","backgroundColor","tension","yAxisID","rate_premium_pct","premium_min_balance","chartOptions","responsive","maintainAspectRatio","plugins","legend","font","size","padding","tooltip","mode","intersect","scales","y","type","display","title","text","beginAtZero","y1","grid","drawOnChartArea","interaction","axis","total_bank_debt","bank","interest_rate_normal","toFixed","interest_rate_premium","payout_fee_pct","placeholder","value","onChange","target","p","ign","toUpperCase","is_premium","balance","interest_rate","last_compounded_at","txn_type","replace","parseFloat","effective_delta","abs","note","created_at","id","options","horse_race","entry_fee","imperial_cut","winner1_pct","winner2_pct","winner3_pct","rules","name","prize_pool","jockey_count","scheduled_at","_c5","$RefreshReg$"],"sources":["C:/Users/huzai/factions-bank-full/factions-bank-full/frontend/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Line } from 'react-chartjs-2';\r\nimport { Chart as ChartJS, LineElement, PointElement, LinearScale, Title, Tooltip, Legend, CategoryScale } from 'chart.js';\r\nimport { format, formatDistanceToNow } from 'date-fns';\r\nimport { TrendingUp, Users, DollarSign, Clock, Trophy, Search, ChevronRight, Activity, ChevronLeft, ChevronDown } from 'lucide-react';\r\nChartJS.register(LineElement, PointElement, LinearScale, Title, Tooltip, Legend, CategoryScale);\r\n\r\n// FIX: Set API to use local host/port explicitly, relying on Flask's new CORS setup.\r\nconst API = process.env.REACT_APP_API_URL || 'http://localhost:8085';\r\n\r\n// --- NEW COMPONENT: Pagination Controls ---\r\nconst PaginationControls = ({ offset, limit, setOffset, totalCount }) => {\r\n  const isPreviousDisabled = offset === 0;\r\n  const isNextDisabled = offset + limit >= totalCount;\r\n  const currentPage = Math.floor(offset / limit) + 1;\r\n  const totalPages = Math.ceil(totalCount / limit);\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-between mt-4\">\r\n      <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n        Showing {Math.min(offset + 1, totalCount)} to {Math.min(offset + limit, totalCount)} of {totalCount} results\r\n      </p>\r\n      <div className=\"flex items-center space-x-2\">\r\n        <button\r\n          onClick={() => setOffset(prev => Math.max(0, prev - limit))}\r\n          disabled={isPreviousDisabled}\r\n          className=\"p-2 border rounded-full disabled:opacity-50 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-700 transition\"\r\n        >\r\n          <ChevronLeft className=\"w-4 h-4\" />\r\n        </button>\r\n        <span className=\"text-sm font-medium text-slate-800 dark:text-slate-200\">\r\n          Page {currentPage} of {totalPages}\r\n        </span>\r\n        <button\r\n          onClick={() => setOffset(prev => prev + limit)}\r\n          disabled={isNextDisabled}\r\n          className=\"p-2 border rounded-full disabled:opacity-50 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-700 transition\"\r\n        >\r\n          <ChevronRight className=\"w-4 h-4\" />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n// ------------------------------------------\r\n\r\n// Horse SVG Component\r\nconst HorseIcon = ({ className = \"w-16 h-16\", running = false }) => (\r\n  <svg \r\n    className={`${className} ${running ? 'animate-bounce' : ''}`}\r\n    viewBox=\"0 0 64 64\" \r\n    fill=\"none\" \r\n    stroke=\"currentColor\" \r\n    strokeWidth=\"2\"\r\n  >\r\n    <path d=\"M 20 30 L 25 20 L 35 18 L 40 22 L 42 30\" strokeLinecap=\"round\"/>\r\n    <circle cx=\"35\" cy=\"20\" r=\"3\" fill=\"currentColor\"/>\r\n    <path d=\"M 20 30 L 18 45 M 25 30 L 27 45\" strokeLinecap=\"round\"/>\r\n    <path d=\"M 42 30 L 40 45 M 37 30 L 39 45\" strokeLinecap=\"round\"/>\r\n    <path d=\"M 15 15 Q 20 10 25 15\" strokeLinecap=\"round\"/>\r\n  </svg>\r\n);\r\n// Race Track Component with Animations\r\nconst RaceTrack = ({ race, compact = false }) => {\r\n  const [animationProgress, setAnimationProgress] = useState(0);\r\nuseEffect(() => {\r\n    if (race.status === 'live') {\r\n      const interval = setInterval(() => {\r\n        setAnimationProgress(prev => (prev + 1) % 100);\r\n      }, 50);\r\n      return () => clearInterval(interval);\r\n    } else if (race.status === 'finished') {\r\n      setAnimationProgress(100);\r\n    }\r\n  }, [race.status]);\r\nconst getPosition = (index) => {\r\n    if (race.status === 'scheduled') return 0;\r\nif (race.status === 'finished') {\r\n      const jockey = race.jockeys[index];\r\n      if (jockey === race.winner1) return 100;\r\nif (jockey === race.winner2) return 95;\r\n      if (jockey === race.winner3) return 90;\r\n      return 85;\r\n}\r\n    return animationProgress + (index * 5) % 100;\r\n  };\r\n\r\n  const trackHeight = compact ?\r\n'h-24' : 'h-40';\r\n\r\n  return (\r\n    <div className=\"relative w-full bg-gradient-to-r from-green-100 via-green-50 to-green-100 dark:from-green-900 dark:via-green-800 dark:to-green-900 rounded-xl overflow-hidden border-2 border-green-300 dark:border-green-700\">\r\n      {/* Finish Line */}\r\n      <div className=\"absolute right-0 top-0 bottom-0 w-4 bg-gradient-to-r from-transparent via-yellow-400 to-yellow-500 opacity-50\"></div>\r\n      \r\n      {/* Lanes */}\r\n      <div className={`relative ${trackHeight} flex flex-col justify-around py-2`}>\r\n        {race.jockeys?.map((jockey, idx) => {\r\n          const position = getPosition(idx);\r\n   \r\n        const isWinner = race.status === 'finished' && \r\n                          [race.winner1, race.winner2, race.winner3].includes(jockey);\r\n          \r\n          return (\r\n            <div key={idx} className=\"relative h-10 border-b border-green-200 dark:border-green-700 last:border-0\">\r\n              <div \r\n   \r\n              className=\"absolute top-1/2 -translate-y-1/2 transition-all duration-1000 ease-linear flex items-center gap-2\"\r\n                style={{ left: `${position}%` }}\r\n              >\r\n                <HorseIcon \r\n                  className={`w-8 h-8 ${isWinner ?\r\n'text-yellow-500' : 'text-gray-700 dark:text-gray-300'}`}\r\n                  running={race.status === 'live'}\r\n                />\r\n                {!compact && (\r\n                  <span className={`text-xs font-bold whitespace-nowrap ${\r\n                    isWinner \r\n? 'text-yellow-600 dark:text-yellow-400' : 'text-gray-600 dark:text-gray-400'\r\n                  }`}>\r\n                    {jockey}\r\n                    {jockey === race.winner1 && ' ðŸ¥‡'}\r\n                    {jockey === race.winner2 && ' ðŸ¥ˆ'}\r\n       \r\n              {jockey === race.winner3 && ' ðŸ¥‰'}\r\n                  </span>\r\n                )}\r\n              </div>\r\n            </div>\r\n          );\r\n})}\r\n      </div>\r\n      \r\n      {/* Status Banner */}\r\n      {race.status === 'finished' && (\r\n        <div className=\"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center\">\r\n          <div className=\"text-center\">\r\n            <Trophy className=\"w-16 h-16 text-yellow-400 mx-auto mb-2 animate-pulse\" />\r\n            <p className=\"text-2xl font-bold text-white\">Race Complete!</p>\r\n        \r\n    </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Time Until Component\r\nconst TimeUntil = ({ date }) => {\r\n  const [, setTick] = useState(0);\r\nuseEffect(() => {\r\n    const interval = setInterval(() => setTick(t => t + 1), 1000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\nif (!date) return <span className=\"text-gray-500\">Never</span>;\r\n  \r\n  const targetDate = new Date(date);\r\n  const now = new Date();\r\n// FIX: Swapped logic to display time since compound, not time until start.\r\nif (targetDate > now) {\r\n    return <span className=\"text-green-600 dark:text-green-400 font-medium\">{formatDistanceToNow(targetDate, { addSuffix: true })}</span>;\r\n}\r\n  \r\n  return (\r\n    <span className=\"text-slate-600 dark:text-slate-400 font-medium\">\r\n      {formatDistanceToNow(targetDate, { addSuffix: false })} ago\r\n    </span>\r\n  );\r\n};\r\n\r\n// Main App Component\r\nfunction App() {\r\n  const [players, setPlayers] = useState([]);\r\n  const [txns, setTxns] = useState([]);\r\n  const [search, setSearch] = useState('');\r\n  const [settings, setSettings] = useState({});\r\n  const [history, setHistory] = useState([]);\r\n  const [races, setRaces] = useState([]);\r\n  const [selectedRace, setSelectedRace] = useState(null);\r\n  const [view, setView] = useState('bank');\r\n  const [loading, setLoading] = useState(true);\r\n  \r\n  // --- NEW STATE FOR PAGINATION ---\r\n  const PLAYER_LIMIT = 15;\r\n  const [playerTotal, setPlayerTotal] = useState(0); // Assuming the backend doesn't return total count currently\r\n  const [playerOffset, setPlayerOffset] = useState(0);\r\n  \r\n  const TXN_LIMIT = 20;\r\n  const [txnOffset, setTxnOffset] = useState(0);\r\n  // --- END NEW STATE ---\r\n\r\nuseEffect(() => {\r\n    loadData();\r\n    const interval = setInterval(loadData, 5000);\r\n    return () => clearInterval(interval);\r\n}, [search, view, playerOffset, txnOffset]); // Add pagination state to dependency array\r\n\r\nconst loadData = async () => {\r\n    try {\r\n      const requests = [\r\n        axios.get(`${API}/api/settings`),\r\n        axios.get(`${API}/api/interest/history`)\r\n      ];\r\n      \r\n      const playerUrl = `${API}/api/players?q=${search}&limit=${PLAYER_LIMIT}&offset=${playerOffset}`;\r\n      const txnUrl = `${API}/api/transactions?ign=${search}&limit=${TXN_LIMIT}&offset=${txnOffset}`;\r\n      const raceUrl = `${API}/api/races`;\r\n\r\n\r\n      if (view === 'bank') {\r\n        requests.push(\r\n          axios.get(playerUrl),\r\n          axios.get(txnUrl),\r\n          // Fetch all players for a proper total count (Less efficient, but necessary if API lacks count endpoint)\r\n          axios.get(`${API}/api/players`) \r\n        );\r\n      } else {\r\n        requests.push(axios.get(raceUrl));\r\n      }\r\n      \r\n      const responses = await Promise.all(requests);\r\n      \r\n      setSettings(responses[0].data);\r\n      \r\n      // FIX: Reverse history data here so map functions can display it correctly (latest data first)\r\n      setHistory(responses[1].data.reverse()); \r\n\r\n      if (view === 'bank') {\r\n        setPlayers(responses[2].data);\r\n        setTxns(responses[3].data);\r\n        // Set total count based on the request that fetches ALL players\r\n        setPlayerTotal(responses[4]?.data?.length || 0);\r\n      } else {\r\n        setRaces(responses[2].data);\r\n      }\r\n      \r\n      setLoading(false);\r\n} catch (e) {\r\n      console.error('Error loading data:', e);\r\n      setLoading(false);\r\n    }\r\n  };\r\nconst formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD',\r\n      minimumFractionDigits: 2,\r\n      maximumFractionDigits: 2\r\n    }).format(amount || 0);\r\n};\r\n\r\n  const formatDate = (date) => {\r\n    if (!date) return 'Never';\r\nreturn format(new Date(date), 'MMM dd, yyyy HH:mm');\r\n  };\r\n\r\n  // Chart Data\r\n  const chartData = {\r\n    // FIX: Remove .reverse() here as it's now done during state setting\r\n    labels: history.map(h => format(new Date(h.changed_at), 'MMM dd, HH:mm')),\r\n    datasets: [\r\n      {\r\n        label: 'Normal Rate (%)',\r\n        data: history.map(h => h.rate_normal_pct),\r\n        borderColor: 'rgb(59, 130, 246)',\r\n        backgroundColor: 'rgba(59, 130, 246, 0.1)',\r\n        tension: 0.4,\r\n        fill: \r\ntrue,\r\n        yAxisID: 'y'\r\n      },\r\n      {\r\n        label: 'Premium Rate (%)',\r\n        data: history.map(h => h.rate_premium_pct),\r\n        borderColor: 'rgb(245, 158, 11)',\r\n        backgroundColor: 'rgba(245, 158, 11, 0.1)',\r\n        tension: 0.4,\r\n        fill: true,\r\n        yAxisID: 'y'\r\n      },\r\n \r\n      {\r\n        label: 'Premium Min Balance ($)',\r\n        data: history.map(h => h.premium_min_balance),\r\n        borderColor: 'rgb(16, 185, 129)',\r\n        backgroundColor: 'rgba(16, 185, 129, 0.1)',\r\n        tension: 0.4,\r\n        fill: true,\r\n        yAxisID: 'y1'\r\n      }\r\n    ]\r\n  };\r\nconst chartOptions = {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    plugins: {\r\n      legend: {\r\n        position: 'top',\r\n        labels: { font: { size: 11 }, padding: 10 }\r\n      },\r\n      tooltip: {\r\n        mode: 'index',\r\n        intersect: false,\r\n        backgroundColor: 'rgba(0, 0, 0, 0.8)'\r\n      \r\n}\r\n    },\r\n    scales: {\r\n      y: {\r\n        type: 'linear',\r\n        display: true,\r\n        position: 'left',\r\n        title: { display: true, text: 'Rate (%)' },\r\n        beginAtZero: true\r\n      },\r\n      y1: {\r\n        type: 'linear',\r\n        display: true,\r\n  \r\n        position: 'right',\r\n        title: { display: true, text: 'Balance ($)' },\r\n        grid: { drawOnChartArea: false },\r\n        beginAtZero: true\r\n      }\r\n    },\r\n    interaction: { mode: 'nearest', axis: 'x', intersect: false }\r\n  };\r\nif (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <Activity className=\"w-16 h-16 text-blue-500 animate-spin mx-auto mb-4\" />\r\n          <p className=\"text-xl font-semibold text-gray-700 dark:text-gray-300\">Loading Factions Bank...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 text-slate-900 dark:text-slate-100\">\r\n      <div className=\"max-w-7xl mx-auto p-3 sm:p-6 lg:p-8\">\r\n        {/* Header */}\r\n        <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6\">\r\n          <h1 className=\"text-3xl sm:text-4xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent\">\r\n            ðŸ¦ Factions Bank\r\n          </h1>\r\n     \r\n          <div className=\"flex items-center gap-3 bg-white dark:bg-slate-800 px-4 py-2 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700\">\r\n            <DollarSign className=\"w-6 h-6 text-green-600\" />\r\n            <div>\r\n              <p className=\"text-xs text-gray-500\">Total Bank Debt</p>\r\n              <p className=\"text-xl font-bold text-green-600\">\r\n                {formatCurrency(settings.total_bank_debt)}\r\n    \r\n            </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Stats Cards */}\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6\">\r\n          <div className=\"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-shadow\">\r\n            <div \r\nclassName=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-xs sm:text-sm text-slate-600 dark:text-slate-400\">Normal Rate</p>\r\n                <p className=\"text-2xl sm:text-3xl font-bold text-blue-600\">\r\n                  {((settings.bank?.interest_rate_normal ||\r\n0) * 100).toFixed(2)}%\r\n                </p>\r\n              </div>\r\n              <TrendingUp className=\"w-8 h-8 sm:w-10 sm:h-10 text-blue-600\" />\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-xl \r\nshadow-lg border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-shadow\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-xs sm:text-sm text-slate-600 dark:text-slate-400\">Premium Rate</p>\r\n                <p className=\"text-2xl sm:text-3xl font-bold text-amber-600\">\r\n                  {((settings.bank?.interest_rate_premium || 0) * 100).toFixed(2)}%\r\n   \r\n              </p>\r\n                <p className=\"text-xs text-slate-500\">\r\n                  â‰¥{formatCurrency(settings.bank?.premium_min_balance || 0)}\r\n                </p>\r\n              </div>\r\n              <Trophy className=\"w-8 h-8 sm:w-10 sm:h-10 \r\ntext-amber-600\" />\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-shadow\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p \r\nclassName=\"text-xs sm:text-sm text-slate-600 dark:text-slate-400\">Active Players</p>\r\n                <p className=\"text-2xl sm:text-3xl font-bold text-emerald-600\">{playerTotal}</p>\r\n              </div>\r\n              <Users className=\"w-8 h-8 sm:w-10 sm:h-10 text-emerald-600\" />\r\n            </div>\r\n          </div>\r\n          \r\n          \r\n<div className=\"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-shadow\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-xs sm:text-sm text-slate-600 dark:text-slate-400\">Payout Fee</p>\r\n                <p className=\"text-2xl sm:text-3xl font-bold text-red-600\">\r\n                  {((settings.bank?.payout_fee_pct \r\n|| 0) * 100).toFixed(2)}%\r\n                </p>\r\n              </div>\r\n              <Activity className=\"w-8 h-8 sm:w-10 sm:h-10 text-red-600\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Navigation Tabs */}\r\n      \r\n        <div className=\"flex gap-2 mb-6 overflow-x-auto pb-2 border-b-2 border-slate-200 dark:border-slate-700\">\r\n          <button\r\n            onClick={() => setView('bank')}\r\n            className={`px-4 sm:px-6 py-2 sm:py-3 font-medium transition-all rounded-t-lg whitespace-nowrap flex items-center gap-2 ${\r\n              view === 'bank'\r\n                ?\r\n'bg-white dark:bg-slate-800 text-blue-600 border-t-4 border-x-2 border-blue-600'\r\n                : 'text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-100'\r\n            }`}\r\n          >\r\n            <DollarSign className=\"w-5 h-5\" />\r\n            Bank Dashboard\r\n          </button>\r\n          <button\r\n     \r\n            onClick={() => setView('races')}\r\n            className={`px-4 sm:px-6 py-2 sm:py-3 font-medium transition-all rounded-t-lg whitespace-nowrap flex items-center gap-2 ${\r\n              view === 'races'\r\n                ?\r\n'bg-white dark:bg-slate-800 text-purple-600 border-t-4 border-x-2 border-purple-600'\r\n                : 'text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-100'\r\n            }`}\r\n          >\r\n            <HorseIcon className=\"w-5 h-5\" />\r\n            Imperial Races\r\n          </button>\r\n        </div>\r\n\r\n       \r\n        {/* Search Bar */}\r\n        {view === 'bank' && (\r\n          <div className=\"mb-6\">\r\n            <div className=\"relative\">\r\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n              <input\r\n                type=\"text\"\r\n        \r\n                placeholder=\"Search player by name...\"\r\n                value={search}\r\n                onChange={e => setSearch(e.target.value)}\r\n                className=\"w-full pl-10 pr-4 py-3 rounded-xl border-2 border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\r\n              />\r\n          \r\n    </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Content */}\r\n        {view === 'bank' ?\r\n(\r\n          <div className=\"space-y-6\">\r\n            {/* Players Table */}\r\n            <div className=\"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-4 sm:p-6 border border-slate-200 dark:border-slate-700\">\r\n              <h3 className=\"text-xl font-bold mb-4 flex items-center gap-2\">\r\n                <Users className=\"w-6 h-6 text-blue-600\" />\r\n             \r\n    Players ({playerTotal})\r\n              </h3>\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full\">\r\n                  <thead>\r\n                    <tr className=\"border-b-2 border-slate-200 dark:border-slate-700\">\r\n         \r\n                      <th className=\"text-left py-3 px-2 font-semibold text-sm\">Player</th>\r\n                      <th className=\"text-right py-3 px-2 font-semibold text-sm\">Balance</th>\r\n                      <th className=\"text-center py-3 px-2 font-semibold text-sm hidden sm:table-cell\">Rate</th>\r\n                      <th className=\"text-right py-3 px-2 \r\nfont-semibold text-sm hidden md:table-cell\">Last Interest</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {players.map(p => (\r\n                  \r\n                      <tr key={p.ign} className=\"border-b border-slate-100 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors\">\r\n                        <td className=\"py-3 px-2\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <div className=\"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br \r\nfrom-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-xs sm:text-sm font-bold flex-shrink-0\">\r\n                              {p.ign[0].toUpperCase()}\r\n                            </div>\r\n                            <div>\r\n    \r\n                              <div className=\"font-medium text-sm sm:text-base\">{p.ign}</div>\r\n                              {p.is_premium ?\r\n(\r\n                                <span className=\"inline-block text-xs bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200 px-2 py-0.5 rounded-full\">\r\n                                  â­ Premium\r\n                        \r\n          </span>\r\n                              ) : null}\r\n                            </div>\r\n                          </div>\r\n      \r\n                      </td>\r\n                        <td className=\"text-right font-bold text-sm sm:text-lg whitespace-nowrap\">\r\n                          {formatCurrency(p.balance)}\r\n                        </td>\r\n   \r\n                         <td className=\"text-center hidden sm:table-cell\">\r\n                          <span className={`inline-block px-3 py-1 rounded-full text-xs font-bold ${\r\n                            p.is_premium \r\n              \r\n                            ?\r\n'bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200'\r\n                              : 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200'\r\n                          }`}>\r\n                            {((p.interest_rate || 0) * 100).toFixed(2)}%\r\n     \r\n                           </span>\r\n                        </td>\r\n                        <td className=\"text-right text-xs text-slate-600 dark:text-slate-400 hidden md:table-cell\">\r\n                         \r\n                          <div className=\"flex items-center justify-end gap-1\">\r\n                            <Clock className=\"w-4 h-4\" />\r\n                            <TimeUntil date={p.last_compounded_at} />\r\n                          </div>\r\n        \r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n        \r\n              </div>\r\n              <PaginationControls \r\n                offset={playerOffset} \r\n                limit={PLAYER_LIMIT} \r\n                setOffset={setPlayerOffset} \r\n                totalCount={playerTotal} \r\n              />\r\n            </div>\r\n\r\n            {/* Transactions */}\r\n            <div className=\"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-4 sm:p-6 border border-slate-200 dark:border-slate-700\">\r\n              <h3 className=\"text-xl font-bold mb-4 flex items-center gap-2\">\r\n                <Activity className=\"w-6 h-6 text-green-600\" />\r\n       \r\n                Recent Transactions ({txns.length})\r\n              </h3>\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full\">\r\n                  <thead>\r\n                    <tr className=\"border-b-2 border-slate-200 dark:border-slate-700\">\r\n  \r\n                      <th className=\"text-left py-3 px-2 font-semibold text-sm\">Player</th>\r\n                      <th className=\"text-center py-3 px-2 font-semibold text-sm\">Type</th>\r\n                      <th className=\"text-right py-3 px-2 font-semibold text-sm\">Amount</th>\r\n                     \r\n                      <th className=\"text-left py-3 px-2 font-semibold text-sm hidden lg:table-cell\">Note</th>\r\n                      <th className=\"text-right py-3 px-2 font-semibold text-sm hidden md:table-cell\">Date</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n       \r\n              {txns.map(t => (\r\n                      <tr key={t.id} className=\"border-b border-slate-100 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors\">\r\n                        <td className=\"py-3 px-2 font-medium text-sm\">{t.ign}</td>\r\n                        <td className=\"text-center\">\r\n  \r\n                          <span className={`px-2 sm:px-3 py-1 rounded-full text-xs font-medium whitespace-nowrap ${\r\n                            ['deposit', 'interest', 'horse_race_win'].includes(t.txn_type)\r\n                              ?\r\n'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200'\r\n                              : 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200'\r\n                          }`}>\r\n                            {t.txn_type.replace(/_/g, ' ').replace('horse race', 'ðŸ´')}\r\n     \r\n                           </span>\r\n                        </td>\r\n                        <td className={`text-right font-bold text-sm ${\r\n                          parseFloat(t.effective_delta) \r\n>= 0 ? 'text-green-600' : 'text-red-600'\r\n                        }`}>\r\n                          {parseFloat(t.effective_delta) >= 0 ?\r\n'+' : ''}\r\n                          {formatCurrency(Math.abs(parseFloat(t.effective_delta)))}\r\n                        </td>\r\n                        <td className=\"text-left text-xs text-slate-600 dark:text-slate-400 max-w-xs truncate hidden lg:table-cell\">\r\n                \r\n                          {t.note ||\r\n'-'}\r\n                        </td>\r\n                        <td className=\"text-right text-xs text-slate-500 whitespace-nowrap hidden md:table-cell\">\r\n                          {formatDate(t.created_at)}\r\n                    \r\n                      </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              {/* NOTE: Total count for transactions is not exposed by the API yet, \r\n                     but pagination is implemented using the limit/offset structure */}\r\n               <PaginationControls \r\n                offset={txnOffset} \r\n                limit={TXN_LIMIT} \r\n                setOffset={setTxnOffset} \r\n                totalCount={txns.length + txnOffset + (txns.length < TXN_LIMIT ? 0 : 1)}\r\n              />\r\n          </div>\r\n\r\n            {/* Interest Rate History Graph */}\r\n            <div className=\"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-4 sm:p-6 border border-slate-200 dark:border-slate-700\">\r\n              <h3 className=\"text-xl font-bold mb-4\">ðŸ“ˆ Interest Rate History</h3>\r\n              <div className=\"h-64 sm:h-80\">\r\n                <Line data={chartData} options={chartOptions} />\r\n \r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-6\">\r\n            {/* Race Settings Info */}\r\n            {settings.horse_race && (\r\n              \r\n<div className=\"bg-gradient-to-r from-purple-100 via-pink-100 to-yellow-100 dark:from-purple-900 dark:via-pink-900 dark:to-yellow-900 p-4 sm:p-6 rounded-2xl shadow-lg border-2 border-purple-300 dark:border-purple-700\">\r\n                <h3 className=\"text-2xl font-bold mb-3 flex items-center gap-2\">\r\n                  <Trophy className=\"w-8 h-8 text-yellow-600\" />\r\n                  Imperial Race Rules\r\n                </h3>\r\n      \r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-4\">\r\n                  <div className=\"bg-white dark:bg-slate-800 p-3 rounded-lg\">\r\n                    <p className=\"text-xs text-gray-500\">Entry Fee</p>\r\n                    <p className=\"text-xl font-bold text-blue-600\">{formatCurrency(settings.horse_race.entry_fee)}</p>\r\n                \r\n    </div>\r\n                  <div className=\"bg-white dark:bg-slate-800 p-3 rounded-lg\">\r\n                    <p className=\"text-xs text-gray-500\">Imperial Cut</p>\r\n                    <p className=\"text-xl font-bold text-red-600\">{settings.horse_race.imperial_cut}%</p>\r\n                  </div>\r\n            \r\n              <div className=\"bg-white dark:bg-slate-800 p-3 rounded-lg\">\r\n                    <p className=\"text-xs text-gray-500\">1st / 2nd / 3rd</p>\r\n                    <p className=\"text-lg font-bold text-yellow-600\">\r\n                      {settings.horse_race.winner1_pct}% / {settings.horse_race.winner2_pct}% / {settings.horse_race.winner3_pct}%\r\n               \r\n            </p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"bg-white dark:bg-slate-800 p-4 rounded-lg\">\r\n                  <p className=\"text-sm whitespace-pre-line leading-relaxed\">\r\n                    \r\n{settings.horse_race.rules?.replace(/\\\\n/g, '\\n') || 'No rules set'}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Selected Race Detail */}\r\n            {selectedRace && (\r\n     \r\n              <div className=\"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-4 sm:p-6 border border-slate-200 dark:border-slate-700\">\r\n                <div className=\"flex justify-between items-start mb-4\">\r\n                  <h3 className=\"text-2xl font-bold\">{selectedRace.name} #{selectedRace.id}</h3>\r\n                  <button\r\n                    onClick={() => setSelectedRace(null)}\r\n \r\n                    className=\"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300\"\r\n                  >\r\n                    âœ•\r\n                  </button>\r\n                </div>\r\n       \r\n                <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6\">\r\n                  <div>\r\n                    <p className=\"text-xs text-gray-500\">Prize Pool</p>\r\n                    <p className=\"text-xl font-bold text-green-600\">{formatCurrency(selectedRace.prize_pool)}</p>\r\n                  </div>\r\n    \r\n                  <div>\r\n                    <p className=\"text-xs text-gray-500\">Jockeys</p>\r\n                    <p className=\"text-xl font-bold text-purple-600\">{selectedRace.jockey_count}</p>\r\n                  </div>\r\n                  <div>\r\n     \r\n                    <p className=\"text-xs text-gray-500\">Status</p>\r\n                    <span className={`inline-block px-3 py-1 rounded-full text-sm font-bold ${\r\n                      selectedRace.status === 'live' ?\r\n'bg-green-100 text-green-800' :\r\n                      selectedRace.status === 'finished' ?\r\n'bg-yellow-100 text-yellow-800' :\r\n                      'bg-blue-100 text-blue-800'\r\n                    }`}>\r\n                      {selectedRace.status.toUpperCase()}\r\n                    </span>\r\n             \r\n              </div>\r\n                  <div>\r\n                    <p className=\"text-xs text-gray-500\">Scheduled</p>\r\n                    <p className=\"text-sm font-medium\">\r\n                      {selectedRace.status === 'scheduled' ?\r\n(\r\n                        <TimeUntil date={selectedRace.scheduled_at} />\r\n                      ) : (\r\n                        formatDate(selectedRace.scheduled_at)\r\n                      )}\r\n    \r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <RaceTrack race={selectedRace} />\r\n              </div>\r\n            )}\r\n\r\n      \r\n            {/* Races Grid */}\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\r\n              {races.length === 0 ?\r\n(\r\n                <div className=\"col-span-2 text-center py-12 bg-white dark:bg-slate-800 rounded-2xl shadow-lg\">\r\n                  <HorseIcon className=\"w-24 h-24 mx-auto text-gray-300 dark:text-gray-600 mb-4\" />\r\n                  <p className=\"text-xl text-gray-500\">No races scheduled yet</p>\r\n                </div>\r\n             \r\n              ) : (\r\n                races.map(race => (\r\n                  <div\r\n                    key={race.id}\r\n                    onClick={() => setSelectedRace(race)}\r\n                   \r\n                    className=\"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-all cursor-pointer hover:scale-[1.02]\"\r\n                  >\r\n                    <div className=\"flex justify-between items-start mb-3\">\r\n                      <h3 className=\"text-lg font-bold\">{race.name} #{race.id}</h3>\r\n                    \r\n                      <span className={`px-3 py-1 rounded-full text-xs font-bold ${\r\n                        race.status === 'live' ?\r\n'bg-green-100 text-green-800 animate-pulse' :\r\n                        race.status === 'finished' ?\r\n'bg-yellow-100 text-yellow-800' :\r\n                        'bg-blue-100 text-blue-800'\r\n                      }`}>\r\n                        {race.status.toUpperCase()}\r\n                      </span>\r\n     \r\n                    </div>\r\n                    \r\n                    <div className=\"grid grid-cols-2 gap-3 mb-4 text-sm\">\r\n                      <div>\r\n                  \r\n                        <p className=\"text-gray-500\">Prize Pool</p>\r\n                        <p className=\"font-bold text-green-600\">{formatCurrency(race.prize_pool)}</p>\r\n                      </div>\r\n                      <div>\r\n                      \r\n                        <p className=\"text-gray-500\">Jockeys</p>\r\n                        <p className=\"font-bold text-purple-600\">{race.jockey_count}</p>\r\n                      </div>\r\n                      <div className=\"col-span-2\">\r\n                        <p className=\"text-gray-500\">Scheduled</p>\r\n \r\n                        <p className=\"font-medium\">\r\n                          {race.status === 'scheduled' ?\r\n(\r\n                            <TimeUntil date={race.scheduled_at} />\r\n                          ) : (\r\n                            formatDate(race.scheduled_at)\r\n              \r\n                          )}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Mini \r\nRace Track Preview */}\r\n                    <RaceTrack race={race} compact={true} />\r\n\r\n                    {/* Winners Display */}\r\n                    {race.status === 'finished' && (\r\n                      <div className=\"mt-4 pt-4 border-t border-gray-200 \r\ndark:border-gray-700\">\r\n                        <p className=\"text-xs font-semibold text-gray-500 mb-2\">Winners:</p>\r\n                        <div className=\"flex flex-wrap gap-2\">\r\n                          {race.winner1 && (\r\n                 \r\n                            <span className=\"inline-flex items-center gap-1 px-3 py-1 bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 rounded-full text-xs font-bold\">\r\n                              ðŸ¥‡ {race.winner1}\r\n                            </span>\r\n                  \r\n                          )}\r\n                          {race.winner2 && (\r\n                            <span className=\"inline-flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200 rounded-full text-xs font-bold\">\r\n                        \r\n          ðŸ¥ˆ {race.winner2}\r\n                            </span>\r\n                          )}\r\n                          {race.winner3 && (\r\n           \r\n                            <span className=\"inline-flex items-center gap-1 px-3 py-1 bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200 rounded-full text-xs font-bold\">\r\n                              ðŸ¥‰ {race.winner3}\r\n                            </span>\r\n            \r\n              )}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    \r\n<div className=\"mt-3 flex items-center justify-between text-xs text-gray-500\">\r\n                      <span>Click to view details</span>\r\n                      <ChevronRight className=\"w-4 h-4\" />\r\n                    </div>\r\n                  </div>\r\n      \r\n                ))\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}